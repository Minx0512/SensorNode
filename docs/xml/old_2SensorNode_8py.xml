<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="old_2SensorNode_8py" kind="file" language="Python">
    <compoundname>SensorNode.py</compoundname>
    <innernamespace refid="namespaceSensorNode">SensorNode</innernamespace>
    <innernamespace refid="namespaceTkinter">Tkinter</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceSensorNode" refkind="compound"><highlight class="comment">#!/usr/bin/python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>Tkinter<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>tkMessageBox</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>thread</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">#<sp/>import<sp/>MySQLdb<sp/>as<sp/>mdb</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>BluetoothConn<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>time</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>ReadSensor<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>NodeProtocol<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>xml.dom.minidom<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>parse,<sp/>parseString</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>pyasn1.compat.octets<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>null</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>bluetooth._bluetooth<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>btsocket</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>time<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sleep</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>gtk._gtk<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ANCHOR_WEST</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>DesignColors<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="namespaceSensorNode_1a683ee2ba850b73248e0e9d4e1c15c844" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a683ee2ba850b73248e0e9d4e1c15c844" kindref="member">GetMovement</ref>(sock):</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a529bdfae6ea4b07c397c05d9bb64261c" kindref="member">SendData</ref>(sock,</highlight><highlight class="stringliteral">&apos;{0}\r\n&apos;</highlight><highlight class="normal">.format(<ref refid="namespaceNodeProtocol_1aaa7bf240ba412b020b53151530989747" kindref="member">NPGetSensorDataMove</ref>()))</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a83232f3a490b3985e04a24d1b8fc981a" kindref="member">ReceiveData</ref>(sock,</highlight><highlight class="stringliteral">&quot;|+end\r\n&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="24" refid="namespaceSensorNode_1a8920dec9e244a89bd8d0d2b9910bec75" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a8920dec9e244a89bd8d0d2b9910bec75" kindref="member">GetTempHumidDHT22</ref>(sock):</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a529bdfae6ea4b07c397c05d9bb64261c" kindref="member">SendData</ref>(sock,</highlight><highlight class="stringliteral">&apos;{0}\r\n&apos;</highlight><highlight class="normal">.format(<ref refid="namespaceNodeProtocol_1a0f283491ca330db682d53c43f9d460da" kindref="member">NPGetSensorDataTempHumidityDHT22</ref>()))</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a83232f3a490b3985e04a24d1b8fc981a" kindref="member">ReceiveData</ref>(sock,</highlight><highlight class="stringliteral">&quot;|+end\r\n&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="27" refid="namespaceSensorNode_1a5e804ff447fc7771e2c1454eb0425097" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a5e804ff447fc7771e2c1454eb0425097" kindref="member">GetLightsense</ref>(sock):</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a529bdfae6ea4b07c397c05d9bb64261c" kindref="member">SendData</ref>(sock,</highlight><highlight class="stringliteral">&apos;{0}\r\n&apos;</highlight><highlight class="normal">.format(<ref refid="namespaceNodeProtocol_1a3bd00c7fd33997cf6c3bd8eb7c265c3b" kindref="member">NPGetSensorDataLightsense</ref>()))</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceBluetoothConn_1a83232f3a490b3985e04a24d1b8fc981a" kindref="member">ReceiveData</ref>(sock,</highlight><highlight class="stringliteral">&quot;|+end\r\n&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="namespaceSensorNode_1a7071f7e3398ab91418cd1096210129a0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a7071f7e3398ab91418cd1096210129a0" kindref="member">GetTime</ref>():</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>1:<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/>ti<sp/>=<sp/>time.strftime(</highlight><highlight class="stringliteral">&quot;%I:%M:%S<sp/>%p<sp/>|<sp/>%A,<sp/>%B<sp/>%d,<sp/>%Y&quot;</highlight><highlight class="normal">,time.localtime())<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/>timeStr.set(ti)<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/></highlight><highlight class="comment">#return<sp/>ti</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="namespaceSensorNode_1ac1b36fd1dc3beec8749f75f6d3944899" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1ac1b36fd1dc3beec8749f75f6d3944899" kindref="member">isNightTime</ref>(lightValue):</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/>t<sp/>=<sp/>int(time.strftime(</highlight><highlight class="stringliteral">&quot;%H&quot;</highlight><highlight class="normal">,time.localtime()))</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/></highlight><highlight class="comment">#print<sp/>&quot;t:<sp/>{0}&quot;.format(t)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/>isNight<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>t<sp/>&lt;<sp/>16<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>t<sp/>&gt;<sp/>8:</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/>isNight<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>isNight</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="45" refid="namespaceSensorNode_1a8414adaa25d1a17a9043d673c751c256" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a8414adaa25d1a17a9043d673c751c256" kindref="member">SleepMode</ref>(slpmd):</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/>slpmd<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="namespaceSensorNode_1a4b7927f47889ab334c1ce571de952088" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a4b7927f47889ab334c1ce571de952088" kindref="member">NoMovement</ref>(lastmv,lightV,tIn):</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;OFF&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_Movement0/state&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/>os.system(statement)<sp/></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="namespaceSensorNode_1add0e17d3b4b233162ff03c9ba9acc3ab" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1add0e17d3b4b233162ff03c9ba9acc3ab" kindref="member">OnMovement</ref>(lightV,tIn,tOut,rsEneabled):</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/>statLight<sp/>=<sp/>int(statusLight.get())</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;ON&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_Movement0/state&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/>os.system(statement)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;{0}&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_LightVoltage0/state&apos;</highlight><highlight class="normal">.format(lightV)</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/>os.system(statement)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="60" refid="namespaceSensorNode_1a8281cee319c91445e41e2beb456b063d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a8281cee319c91445e41e2beb456b063d" kindref="member">DetectMovement</ref>(socket,tInside,<sp/>tOutside,rSensorsEnabled,slpmode):</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/>lastmovement<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/>lightson<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/>natLightVal<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/>light<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>int(autoLights.get())==1:<sp/><sp/></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/>threadLock.acquire()</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#SendData(socket,&quot;35|0|Mv\n&quot;)<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/>recData<sp/>=<sp/><ref refid="namespaceSensorNode_1a683ee2ba850b73248e0e9d4e1c15c844" kindref="member">GetMovement</ref>(socket)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;Move:<sp/>&quot;,recData</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/>mvs<sp/>=<sp/>re.findall(</highlight><highlight class="stringliteral">&quot;&lt;mv&gt;(.*)\|&quot;</highlight><highlight class="normal">,<sp/>recData)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/>threadLock.release()</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>mvs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(mvs)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>m=int(mvs[0])</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>m<sp/>=<sp/>-1<sp/></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;mv:<sp/>{0}&quot;.format(m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>m<sp/>==<sp/>1:<sp/></highlight><highlight class="comment">#<sp/>movement<sp/>detected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>lastmovement<sp/>=<sp/>int(time.time())</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;lastmovement:<sp/>{0}<sp/>&quot;.format(lastmovement)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>threadLock.acquire()</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>recData<sp/>=<sp/><ref refid="namespaceSensorNode_1a5e804ff447fc7771e2c1454eb0425097" kindref="member">GetLightsense</ref>(socket)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#sleep(1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;recDataLight:<sp/>&quot;,<sp/>recData</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>re.findall(</highlight><highlight class="stringliteral">&quot;&lt;NSL19M51&gt;(.*)\|&quot;</highlight><highlight class="normal">,recData)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(l)&gt;0:</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>light=float(l[0])</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>light<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>threadLock.release()</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>light&gt;0:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>lightVal.set(light)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sleep(2)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>l</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>light<sp/>=<sp/>lightVal.get()<sp/><sp/></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceSensorNode_1add0e17d3b4b233162ff03c9ba9acc3ab" kindref="member">OnMovement</ref>(light,tInside,tOutside,rSensorsEnabled)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>else:<sp/><sp/>#<sp/>no<sp/>movement</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>NoMovement(lastmovement,light,tInside,frame)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/>sleep(1)<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="namespaceSensorNode_1aa3b036956df80a6daa599e1957a1cd57" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1aa3b036956df80a6daa599e1957a1cd57" kindref="member">ReadSystemConfig</ref>(socket):</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/>threadLock.acquire()<sp/></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/>recData<sp/>=<sp/><ref refid="namespaceReadSensor_1a50734d9db330ed93691197e79bbb860b" kindref="member">GetNRFConfig</ref>(socket)<sp/><sp/></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/></highlight><highlight class="comment">#print<sp/>&quot;SysConfig:<sp/>&quot;,recData</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/>nrf<sp/>=<sp/>re.findall(</highlight><highlight class="stringliteral">&quot;&lt;SYSTEM&gt;&lt;VERSION&gt;(.*)\|\|&lt;NRF24L01&gt;&lt;STATUS&gt;(.*)\|&lt;CONFIG&gt;(.*)\|&lt;RF_CH&gt;(.*)\|&lt;RF_SETUP&gt;(.*)\|&lt;EN_AA&gt;(.*)\|&lt;EN_RXADDR&gt;(.*)\|&lt;OBSERVE_TX&gt;(.*)\|&lt;RX_ADDR_P0&gt;(.*)\|&lt;RX_ADDR_P1&gt;(.*)\|&lt;RX_ADDR_P2&gt;(.*)\|&lt;RX_ADDR_P3&gt;(.*)\|&lt;RX_ADDR_P4&gt;(.*)\|&lt;RX_ADDR_P5&gt;(.*)\|&lt;TX_ADDR&gt;(.*)\|&lt;RX_PW_P0&gt;(.*)\|&lt;RX_PW_P1&gt;(.*)\|&lt;RX_PW_P2&gt;(.*)\|&lt;RX_PW_P3&gt;(.*)\|&lt;RX_PW_P4&gt;(.*)\|&lt;RX_PW_P5&gt;(.*)\|\|&quot;</highlight><highlight class="normal">,recData)</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/>threadLock.release()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>nrf:</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Version:<sp/>{0}&quot;</highlight><highlight class="normal">.format(n[0])<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Status:<sp/>{0}<sp/>\r\nConfig:<sp/>{1}&quot;</highlight><highlight class="normal">.format(n[1],n[2])</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>recData<sp/><sp/></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136" refid="namespaceSensorNode_1a17cde606b5329ad7081ae3408e6d6032" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a17cde606b5329ad7081ae3408e6d6032" kindref="member">ReadSensorDataLight</ref>(socket,tnum):</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/>threadLock.acquire()</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/>recData<sp/>=<sp/><ref refid="namespaceSensorNode_1a5e804ff447fc7771e2c1454eb0425097" kindref="member">GetLightsense</ref>(socket)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#sleep(1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;recDataLight:<sp/>&quot;,<sp/>recData</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>l<sp/>=<sp/>re.findall(</highlight><highlight class="stringliteral">&quot;&lt;NSL19M51&gt;(.*)\|&quot;</highlight><highlight class="normal">,recData)</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(l)&gt;0:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/>light=float(l[0])</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/>light<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/>threadLock.release()</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>light&gt;0:</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/>lightVal.set(light)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;{0}&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_LightVoltage0/state&apos;</highlight><highlight class="normal">.format(light)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/>os.system(statement)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/>sleep(120)<sp/></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/>sleep(2)<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162" refid="namespaceSensorNode_1ad5ea37debfca3a6ca63a67e1b9fe065a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1ad5ea37debfca3a6ca63a67e1b9fe065a" kindref="member">ReadSensorData</ref>(socket,tnum):</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/>errC<sp/>=<sp/>0<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>1:<sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/>threadLock.acquire()<sp/></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>recDataDHT22<sp/>=<sp/><ref refid="namespaceSensorNode_1a8920dec9e244a89bd8d0d2b9910bec75" kindref="member">GetTempHumidDHT22</ref>(socket)<sp/></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#print<sp/>&quot;recDHT:<sp/>{0}&quot;,recDataDHT22</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>dht<sp/>=<sp/>re.findall(</highlight><highlight class="stringliteral">&quot;.&lt;DHT22&gt;&lt;T<sp/>unit=&apos;(.*)&apos;&gt;(.*)\|&lt;H<sp/>unit=&apos;(.*)&apos;&gt;(.*)\|\|err=(.*)\|&quot;</highlight><highlight class="normal">,recDataDHT22)</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>threadLock.release()</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/>t<sp/>=<sp/>time.strftime(</highlight><highlight class="stringliteral">&quot;%I:%M:%S<sp/>%p&quot;</highlight><highlight class="normal">,time.localtime())<sp/><sp/></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>dht:<sp/><sp/></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/>lightsMsg.set(</highlight><highlight class="stringliteral">&quot;{0}<sp/>:<sp/>DHT22:<sp/>T:<sp/>{1}{2}<sp/>|<sp/>H:<sp/>{3}{4}<sp/>|<sp/>err:<sp/>{5}<sp/>|<sp/>Light:<sp/>{6}&quot;</highlight><highlight class="normal">.format(t,<sp/>d[1],d[0],d[3],d[2],d[4],lightVal.get()))</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>DHT22TempVal.set(float(d[1]))</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>DHT22TempUnit.set(</highlight><highlight class="stringliteral">&quot;{0}&quot;</highlight><highlight class="normal">.format(d[0]))</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>DHT22HumVal.set(float(d[3]))</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>DHT22HumUnit.set(</highlight><highlight class="stringliteral">&quot;{0}&quot;</highlight><highlight class="normal">.format(d[2]))</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>errC<sp/>=<sp/>int(d[4])</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>errC<sp/>=<sp/>-10<sp/></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>lightsMsg.get()</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>errC<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>0:</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/>sleep(5)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;{0}&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_Temperature/state&apos;</highlight><highlight class="normal">.format(DHT22TempVal.get())</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/>os.system(statement)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/>statement<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;/usr/bin/curl<sp/>--header<sp/>&quot;Content-Type:<sp/>text/plain&quot;<sp/>--request<sp/>PUT<sp/>--data<sp/>&quot;{0}&quot;<sp/>http://minxecho:8080/rest/items/RoomMatthias_Humidity/state&apos;</highlight><highlight class="normal">.format(DHT22HumVal.get())</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/>os.system(statement)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/>sleep(5*60)<sp/><sp/></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="namespaceSensorNode_1aba7501484cafdf93d218f4001f7bf27d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1aba7501484cafdf93d218f4001f7bf27d" kindref="member">SwitchON</ref>(frame):</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight><highlight class="comment">#<sp/>B.config(text=&quot;Lights<sp/>ON/OFF&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(command=lambda:<sp/>SwitchOFF(frame))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/>lightsMsg.set(<ref refid="namespaceReadSensor_1a491617ee15187afdef853beb4523334d" kindref="member">LightsOn</ref>(lightVal.get()))</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/>statusLight.set(1)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>menuID.get()==1:</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><ref refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" kindref="member">LightsMenu</ref>(frame)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(bg=BUTTON_BG_COLOR_ACTIVE,activebackground=BUTTON_BG_COLOR_ACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_ACTIVE,font=&quot;-weight<sp/>bold&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/></highlight><highlight class="comment">#tkMessageBox.showinfo(<sp/>&quot;Hello<sp/>Python&quot;,<sp/>&quot;Hello<sp/>World&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208" refid="namespaceSensorNode_1a4e68f587234ab5538cf224a8dadb3372" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a4e68f587234ab5538cf224a8dadb3372" kindref="member">SwitchOFF</ref>(frame):</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(text=&quot;Lights<sp/>ON&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(command=<sp/>lambda:<sp/>SwitchON(B))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/>lightsMsg.set(<ref refid="namespaceReadSensor_1ad618b907c363e25969bd9a798efcde53" kindref="member">LightsOff</ref>(lightVal.get()))</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/></highlight><highlight class="comment">#print<sp/>lightsMsg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/>statusLight.set(0)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>menuID.get()==1:</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><ref refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" kindref="member">LightsMenu</ref>(frame)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(bg=BUTTON_BG_COLOR_INACTIVE,activebackground=BUTTON_BG_COLOR_HOVER,activeforeground=BUTTON_FONT_COLOR_HOVER_INACTIVE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218" refid="namespaceSensorNode_1aee31952b7d1ad370726caed32875d4e6" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1aee31952b7d1ad370726caed32875d4e6" kindref="member">LightsAutoON</ref>(frame):</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(text=&quot;Auto&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/>autoLights.set(1)</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>menuID.get()==1:</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><ref refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" kindref="member">LightsMenu</ref>(frame)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(command=<sp/>lambda:<sp/>LightsAutoOFF(B))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(bg=BUTTON_BG_COLOR_ACTIVE,activebackground=BUTTON_BG_COLOR_ACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_ACTIVE,font=&quot;-weight<sp/>bold&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="226" refid="namespaceSensorNode_1a03916abb4a46a2aad0d0df685d84c57d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a03916abb4a46a2aad0d0df685d84c57d" kindref="member">LightsAutoOFF</ref>(frame):</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/>autoLights.set(0)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>menuID.get()==1:</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><ref refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" kindref="member">LightsMenu</ref>(frame)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(command=<sp/>lambda:<sp/>LightsAutoON(B))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/></highlight><highlight class="comment">#B.config(bg=BUTTON_BG_COLOR_INACTIVE,activebackground=BUTTON_BG_COLOR_HOVER,activeforeground=BUTTON_FONT_COLOR_HOVER_INACTIVE)<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="233" refid="namespaceSensorNode_1a107274f5d5053c3fbd95721de6abe6f3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a107274f5d5053c3fbd95721de6abe6f3" kindref="member">LightsAutoSlider</ref>(slider):</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>autoLights.get()==0:<sp/></highlight><highlight class="comment">#<sp/>auto<sp/>off</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/>slider.config(bg=BUTTON_BG_COLOR_INACTIVE)</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/>slider.config(bg=BUTTON_BG_COLOR_ACTIVE)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="242" refid="namespaceSensorNode_1ae26984e25b77f3e5b585c426be132ea8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1ae26984e25b77f3e5b585c426be132ea8" kindref="member">SensorsMenu</ref>(frame):<sp/></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>widget<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frame.winfo_children():</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>widget.destroy()<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/></highlight><highlight class="comment">#frame.config(bg=APP_BG)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/>label_sensor<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Sensors&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/>label_sensor.config(bg=APP_BAR,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>20&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/>label_sensor.place(x=0,y=0,width=512,height=50)<sp/></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/>label_Sens_Tmp<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Temperature:<sp/>&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/>label_Sens_Tmp.config(bg=APP_BG,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>15&quot;</highlight><highlight class="normal">,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/>label_Sens_Tmp.place(x=20,y=100,width=200,height=20)</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/>label_Sens_Tmp_Val<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;000.00&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/>label_Sens_Tmp_Val.config(bg=APP_BG,fg=APP_FONT_COLOR,textvariable=DHT22TempVal,anchor=</highlight><highlight class="stringliteral">&quot;e&quot;</highlight><highlight class="normal">,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>12&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/>label_Sens_Tmp_Val.place(x=325,y=100,width=100,height=20)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/>label_Sens_Tmp_Unit<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/>label_Sens_Tmp_Unit.config(bg=APP_BG,fg=APP_FONT_COLOR,textvariable=DHT22TempUnit,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>12&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/>label_Sens_Tmp_Unit.place(x=425,y=100,width=40,height=20)</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/>label_Sens_Hum<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Humidity:<sp/>&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/>label_Sens_Hum.config(bg=APP_BG,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>15&quot;</highlight><highlight class="normal">,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/>label_Sens_Hum.place(x=20,y=150,width=200,height=20)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/>label_Sens_Hum_Val<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;00.00&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/>label_Sens_Hum_Val.config(bg=APP_BG,fg=APP_FONT_COLOR,textvariable=DHT22HumVal,anchor=</highlight><highlight class="stringliteral">&quot;e&quot;</highlight><highlight class="normal">,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>12&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/>label_Sens_Hum_Val.place(x=325,y=150,width=100,height=20)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/>label_Sens_Hum_Unit<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;RH&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/>label_Sens_Hum_Unit.config(bg=APP_BG,fg=APP_FONT_COLOR,textvariable=DHT22HumUnit,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>12&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/>label_Sens_Hum_Unit.place(x=425,y=150,width=40,height=20)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/>label_Sens_Light<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Lightsensor:<sp/>&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/>label_Sens_Light.config(bg=APP_BG,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>15&quot;</highlight><highlight class="normal">,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/>label_Sens_Light.place(x=20,y=200,width=200,height=20)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/>label_Sens_Light_Val<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;000.00&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/>label_Sens_Light_Val.config(bg=APP_BG,fg=APP_FONT_COLOR,textvariable=lightVal,anchor=</highlight><highlight class="stringliteral">&quot;e&quot;</highlight><highlight class="normal">,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>12&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/>label_Sens_Light_Val.place(x=325,y=200,width=100,height=20)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/>Label_bottom<sp/>=<sp/>Label(frame,<sp/>text=</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,padx=5,pady=5)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/>Label_bottom.config(bg=APP_DIALOG,fg=APP_FONT_COLOR,<sp/>textvariable=lightsMsg,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>10&quot;</highlight><highlight class="normal">,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/>Label_bottom.place(relx=0,y=560,width=512,height=40)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/>menuID.set(2)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290" refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1ae3b811b5d3e85d5e05e233fe44af8b95" kindref="member">LightsMenu</ref>(frame):</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>widget<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frame.winfo_children():</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>widget.destroy()</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/>label_sensor<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Lights&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/>label_sensor.config(bg=APP_BAR,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>20&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/>label_sensor.place(x=0,y=0,width=512,height=50)<sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/>Button_Lights<sp/>=<sp/>Button(frame,<sp/>text<sp/>=</highlight><highlight class="stringliteral">&quot;Lights<sp/>ON/OFF&quot;</highlight><highlight class="normal">,<sp/>relief=FLAT,padx=5,pady=5)</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/>Button_AutoLights<sp/>=<sp/>Button(frame,<sp/>text<sp/>=</highlight><highlight class="stringliteral">&quot;Auto&quot;</highlight><highlight class="normal">,relief=FLAT,padx=5,pady=5)</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>statusLight.get()<sp/>==<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>Lights<sp/>are<sp/>off<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/>Button_Lights.config(command<sp/>=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal">:<sp/><ref refid="namespaceSensorNode_1aba7501484cafdf93d218f4001f7bf27d" kindref="member">SwitchON</ref>(frame),bg=BUTTON_BG_COLOR_INACTIVE,activebackground=BUTTON_BG_COLOR_INACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_INACTIVE,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold&quot;</highlight><highlight class="normal">,highlightthickness=0,bd=0)</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/>Button_Lights.config(command<sp/>=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal">:<sp/><ref refid="namespaceSensorNode_1a4e68f587234ab5538cf224a8dadb3372" kindref="member">SwitchOFF</ref>(frame),bg=BUTTON_BG_COLOR_ACTIVE,activebackground=BUTTON_BG_COLOR_ACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_ACTIVE,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold&quot;</highlight><highlight class="normal">,highlightthickness=0,bd=0)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>autoLights.get()==0:<sp/></highlight><highlight class="comment">#<sp/>auto<sp/>off<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/>Button_AutoLights.config(command<sp/>=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal">:<sp/><ref refid="namespaceSensorNode_1aee31952b7d1ad370726caed32875d4e6" kindref="member">LightsAutoON</ref>(frame),bg=BUTTON_BG_COLOR_INACTIVE,activebackground=BUTTON_BG_COLOR_INACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_INACTIVE,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold&quot;</highlight><highlight class="normal">,highlightthickness=0,bd=0)</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/>Button_AutoLights.config(command<sp/>=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal">:<sp/><ref refid="namespaceSensorNode_1a03916abb4a46a2aad0d0df685d84c57d" kindref="member">LightsAutoOFF</ref>(frame),bg=BUTTON_BG_COLOR_ACTIVE,activebackground=BUTTON_BG_COLOR_ACTIVE,fg=BUTTON_FONT_COLOR,activeforeground=BUTTON_FONT_COLOR_HOVER_ACTIVE,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold&quot;</highlight><highlight class="normal">,highlightthickness=0,bd=0)</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/>Button_Lights.place(x=50,<sp/>y=100,width=200,<sp/>height=50)<sp/></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/>Button_AutoLights.place(x=350,<sp/>y=100,width=120,<sp/>height=35)</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/>Label_bottom<sp/>=<sp/>Label(frame,<sp/>text=</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,padx=5,pady=5)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/>Label_bottom.config(bg=APP_DIALOG,fg=APP_FONT_COLOR,<sp/>textvariable=lightsMsg,font=</highlight><highlight class="stringliteral">&quot;-size<sp/>10&quot;</highlight><highlight class="normal">,anchor=</highlight><highlight class="stringliteral">&quot;w&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/>Label_bottom.place(relx=0,y=560,width=512,height=40)</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/></highlight><highlight class="comment">#Button_AutoLights.invoke()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/></highlight><highlight class="comment">#lights_Scale<sp/>=<sp/>Scale(frame,variable=autoLights)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight><highlight class="comment">#lights_Scale.config(command=LightsAutoSlider(lights_Scale),from_=0,<sp/>to=1,orient=HORIZONTAL,sliderlength=20,showvalue=0,troughcolor=APP_BAR,highlightthickness=0,bd=0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/></highlight><highlight class="comment">#if<sp/>autoLights.get()==0:<sp/>#<sp/>auto<sp/>off</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight><highlight class="comment">#<sp/>lights_Scale.config(bg=BUTTON_BG_COLOR_INACTIVE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/></highlight><highlight class="comment">#else:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>lights_Scale.config(bg=BUTTON_BG_COLOR_ACTIVE)<sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/></highlight><highlight class="comment">#lights_Scale.place(x=350,y=200,width=75)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/>menuID.set(1)<sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332" refid="namespaceSensorNode_1ac79d5de3c8c949900e790e0bdc1eb436" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1ac79d5de3c8c949900e790e0bdc1eb436" kindref="member">SystemParamsMenu</ref>(socket,frame):</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>widget<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frame.winfo_children():</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/>widget.destroy()</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/>label_sensor<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;System<sp/>Parameter&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/>label_sensor.config(bg=APP_BAR,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>20&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/>label_sensor.place(x=0,y=0,width=512,height=50)</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/>sysConfig<sp/>=<sp/><ref refid="namespaceSensorNode_1aa3b036956df80a6daa599e1957a1cd57" kindref="member">ReadSystemConfig</ref>(socket)</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343" refid="namespaceSensorNode_1a3c64dd19370abacb4a0fe7d899f94f18" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceSensorNode_1a3c64dd19370abacb4a0fe7d899f94f18" kindref="member">ConfigureMenu</ref>(frame):</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>widget<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frame.winfo_children():</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/>widget.destroy()</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/>label_sensor<sp/>=<sp/>Label(frame,text=</highlight><highlight class="stringliteral">&quot;Configure&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/>label_sensor.config(bg=APP_BAR,fg=APP_FONT_COLOR,font=</highlight><highlight class="stringliteral">&quot;-weight<sp/>bold<sp/>-size<sp/>20&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/>label_sensor.place(x=0,y=0,width=512,height=50)<sp/></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352" refid="namespaceSensorNode_1ac561cd22e18ebc8f28a3de0fd790f84d" refkind="member"><highlight class="normal">port<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="353" refid="namespaceSensorNode_1ada87615462c1a9ae3b690316d00d0540" refkind="member"><highlight class="normal">conn=0</highlight></codeline>
<codeline lineno="354" refid="namespaceSensorNode_1a653544a15782661968c67ccb4f6fbdbf" refkind="member"><highlight class="normal">out_str<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355" refid="namespaceSensorNode_1a37cb27925dc2a29cf8e92032d08246d7" refkind="member"><highlight class="normal">bd_addr<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;98:D3:31:FB:31:A6&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356" refid="namespaceSensorNode_1a7150a62e1c3e9852c65457bbc8d81d70" refkind="member"><highlight class="normal">remoteSensorsEnabled<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="357" refid="namespaceSensorNode_1ae86281b81a8af8bc3b9f4bfe75af4748" refkind="member"><highlight class="normal">sleepmode<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359" refid="namespaceSensorNode_1af39573d5009a8cac514cfb9a933ca24a" refkind="member"><highlight class="normal">threadLock<sp/>=<sp/>thread.allocate_lock()</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361" refid="namespaceSensorNode_1ae263ac2260a4d567ff23b89689d63d15" refkind="member"><highlight class="normal">top<sp/>=<sp/>Tk()</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight><highlight class="comment">#<sp/>top.minsize(1024,<sp/>600)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight><highlight class="comment">#<sp/>top.maxsize(1024,600)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight><highlight class="comment">#<sp/>top.title(&quot;SensorNode&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight><highlight class="comment">#<sp/>top.config(bg=APP_BAR)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367" refid="namespaceSensorNode_1a90f55cfa93e86a677d8c8fa8f50e325f" refkind="member"><highlight class="normal">timeStr<sp/>=<sp/>StringVar()</highlight></codeline>
<codeline lineno="368" refid="namespaceSensorNode_1aa021e9235803e1ebb079307ed9df017a" refkind="member"><highlight class="normal">lightsMsg<sp/>=<sp/>StringVar()</highlight></codeline>
<codeline lineno="369" refid="namespaceSensorNode_1abd196ae1282e31f9a34e8d10b5804fe9" refkind="member"><highlight class="normal">lightVal<sp/>=<sp/>DoubleVar()</highlight></codeline>
<codeline lineno="370" refid="namespaceSensorNode_1a731bf9524da43678f890375a99b0ead7" refkind="member"><highlight class="normal">menuID<sp/>=<sp/>IntVar()</highlight></codeline>
<codeline lineno="371" refid="namespaceSensorNode_1aaf69467b0a3b19ad4135c0328352f5af" refkind="member"><highlight class="normal">DHT22TempVal<sp/>=<sp/>DoubleVar()</highlight></codeline>
<codeline lineno="372" refid="namespaceSensorNode_1a9d59de8167347540e9e21562b6239a5b" refkind="member"><highlight class="normal">DHT22TempUnit<sp/>=<sp/>StringVar()</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374" refid="namespaceSensorNode_1ab98e78199a57c6784976eb167af06203" refkind="member"><highlight class="normal">DHT22HumVal<sp/>=<sp/>DoubleVar()</highlight></codeline>
<codeline lineno="375" refid="namespaceSensorNode_1ac12964b10f125bd3256f2b57afb1eaff" refkind="member"><highlight class="normal">DHT22HumUnit<sp/>=<sp/>StringVar()</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>conn==0:</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="379" refid="namespaceSensorNode_1a7a84ed25b4a6ec5b5008e9ebea3653dc" refkind="member"><highlight class="normal"><sp/><sp/>sock<sp/>=<sp/><ref refid="namespaceBluetoothConn_1ab0d988d648786cc8189040dca527bc06" kindref="member">BlueConnect</ref>(bd_addr,port,5.0)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/>conn=1</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>IOError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/>lightsMsg.set(</highlight><highlight class="stringliteral">&quot;{0}&quot;</highlight><highlight class="normal">.format(e))</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>lightsMsg.get()</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="comment">#<sp/>get<sp/>temp<sp/>and<sp/>hum<sp/>every<sp/>hour</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight><highlight class="comment">#<sp/>get<sp/>Lightsensors<sp/>every<sp/>min</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight><highlight class="comment">#<sp/>get<sp/>RemoteSensors<sp/>every<sp/>min</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389" refid="namespaceSensorNode_1a6b92df85afc5b0391834474955d16592" refkind="member"><highlight class="normal">prevmins<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="390" refid="namespaceSensorNode_1a3f20bf0e75b6bcd88e4cf67d89bec305" refkind="member"><highlight class="normal">thresh<sp/>=<sp/>360</highlight></codeline>
<codeline lineno="391" refid="namespaceSensorNode_1a9f4ed9ab0eac0c4d97f1d35e1d86e42c" refkind="member"><highlight class="normal">treshOut<sp/>=<sp/>360</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395" refid="namespaceSensorNode_1ae221b94a7568f6a4eec4ed916d6d9fbb" refkind="member"><highlight class="normal">autoLights<sp/>=<sp/>IntVar()</highlight></codeline>
<codeline lineno="396"><highlight class="normal">autoLights.set(1)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398" refid="namespaceSensorNode_1a1b858f22f067073317637d8f686e7a51" refkind="member"><highlight class="normal">statusLight<sp/>=<sp/>IntVar()</highlight></codeline>
<codeline lineno="399"><highlight class="normal">statusLight.set(0)</highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/>thread.start_new_thread(ReadSensorDataLight,(sock,2))</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/>thread.start_new_thread(DetectMovement,<sp/>(sock,thresh,treshOut,remoteSensorsEnabled,sleepmode))</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/>thread.start_new_thread(ReadSensorData,(sock,2))</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/>thread.start_new_thread(GetTime,())</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/></highlight><highlight class="comment">#ReadSensorData(sock)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception,<sp/>e:</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;{0}&quot;</highlight><highlight class="normal">.format(e)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight><highlight class="comment">#top.mainloop()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal">top.mainloop()</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="Python/old/SensorNode.py"/>
  </compounddef>
</doxygen>
